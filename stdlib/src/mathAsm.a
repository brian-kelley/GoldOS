; x87 FPU math.h functions

global initFPU		; void initFPU
global sin		; double sin
global sinf
global sinl
global cos
global cosf
global cosl
global sqrt
global sqrtf
global sqrtl

section .text

initFPU:
    fninit
    ret

sin:
    ; x is the 8 bytes at first arg (esp + 4)
    fld qword [esp + 4]
    fsin
    ret

sinf:
    fld dword [esp + 4]
    fsin
    ret

sinl:
    ; x is a 10-byte float within 12 bytes
    fld tword [esp + 4]
    fsin
    ret

cos:
    fld qword [esp + 4]
    fcos
    ret

cosf:
    fld dword [esp + 4]
    fcos
    ret

cosl:
    fld tword [esp + 4]
    fcos
    ret

sqrt:
    fld qword [esp + 4]
    fsqrt
    ret

sqrtf:
    fld dword [esp + 4]
    fsqrt
    ret

sqrtl:
    fld tword [esp + 4]
    fsqrt
    ret

